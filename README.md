# Agent_Kimi_ClaudeCode
ğŸ”¥Kimi K2+ClaudeCodeå®æˆ˜ï¼ç»å¯¹çœŸå®æµ‹è¯„ï¼æ‰‹æŠŠæ‰‹æ•™ç¨‹ï¼Œç»å¯¹çœŸå®æµ‹è¯„ï¼
## åªæœ‰å¹²è´§ï¼æ— åºŸè¯çº¯æ•™ç¨‹ï¼

* ğŸ“„ **Kimi K2 ä»‹ç»é“¾æ¥**ï¼š[ç‚¹å‡»æŸ¥çœ‹](https://mp.weixin.qq.com/s/2RPmHf_8KqIjXbY5jLdztQ)

##  å®‰è£… ClaudeCode å¹¶æ¥å…¥ Kimi K2 API

### 1. å®‰è£… Node.jsï¼ˆå·²å®‰è£…å¯è·³è¿‡ï¼‰

ç¡®ä¿ Node.js ç‰ˆæœ¬ â‰¥ 18.0

#### Ubuntu / Debian ç”¨æˆ·ï¼š

```bash
curl -fsSL https://deb.nodesource.com/setup_lts.x | sudo bash -
sudo apt-get install -y nodejs
node --version
```

#### macOS ç”¨æˆ·ï¼š

```bash
sudo xcode-select --install
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
brew install node
node --version
```

---

### 2. å®‰è£… Claude Code

```bash
npm install -g @anthropic-ai/claude-code
claude --version
```

---

### 3. æ¥å…¥ Kimi K2 API

1. é¦–å…ˆå» Moonshot AI å¹³å°è·å–ä¸€ä¸ª API Keyï¼š
   ğŸ‘‰ [https://platform.moonshot.cn/console/api-keys](https://platform.moonshot.cn/console/api-keys)
   <img width="1205" height="445" alt="æˆªå±2025-07-15 ä¸Šåˆ12 38 50" src="https://github.com/user-attachments/assets/9595827a-a47b-4938-a6b5-651020f56dc4" />

3. æ‰“å¼€ Claude Code å‰ï¼Œåœ¨å‘½ä»¤è¡Œä¸­è®¾ç½®ç¯å¢ƒå˜é‡ï¼š

#### å›½å†…ç¯å¢ƒï¼š

```bash
export ANTHROPIC_AUTH_TOKEN=ä½ çš„keyï¼ˆsk-xxxï¼‰
export ANTHROPIC_BASE_URL=https://api.moonshot.cn/anthropic
```

#### æµ·å¤–ç¯å¢ƒï¼š

```bash
export ANTHROPIC_BASE_URL=https://api.moonshot.ai/anthropic
```

3. å¯åŠ¨ Claude Codeï¼š

```bash
claude
```

4. å¯åŠ¨åæŒ‰æç¤ºæ“ä½œï¼š

* é€‰æ‹©ä½ å–œæ¬¢çš„ä¸»é¢˜ + Enter
* ç¡®è®¤å®‰å…¨é¡»çŸ¥ + Enter
* ä½¿ç”¨é»˜è®¤ Terminal é…ç½® + Enter
* ä¿¡ä»»å·¥ä½œç›®å½• + Enter

âœ… ç°åœ¨å°±å¯ä»¥åœ¨ç»ˆç«¯å’Œä½ çš„ AI ç¼–ç¨‹æ­æ¡£ä¸€èµ·å†™ä»£ç å•¦ï¼

---

### 4. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆæ¨èæ–¹å¼ï¼‰

ä¸ºé¿å…æ¯æ¬¡é‡å¤è¾“å…¥ï¼Œå¯å°†ç¯å¢ƒå˜é‡å†™å…¥ `bash_profile`ã€`bashrc` å’Œ `zshrc`ï¼š

#### è®¾ç½® Kimi API çš„ç¯å¢ƒå˜é‡ï¼ˆå›½å†…ï¼‰ï¼š

```bash
echo -e '\n# Kimi API é…ç½® - å›½å†…ç¯å¢ƒ' >> ~/.bash_profile
echo -e 'export KIMI_AUTH_TOKEN=sk-...' >> ~/.bash_profile
echo -e 'export KIMI_BASE_URL=https://api.moonshot.cn/anthropic' >> ~/.bash_profile
```

#### æµ·å¤–ç¯å¢ƒï¼ˆå–æ¶ˆæ³¨é‡Šä½¿ç”¨ï¼‰ï¼š

```bash
echo -e '\n# Kimi API é…ç½® - æµ·å¤–ç¯å¢ƒï¼ˆå–æ¶ˆä¸‹é¢æ³¨é‡Šä½¿ç”¨ï¼‰' >> ~/.bash_profile
echo -e '# export KIMI_BASE_URL=https://api.moonshot.ai/anthropic' >> ~/.bash_profile
```

#### åŒæ ·é…ç½®åˆ° `bashrc` å’Œ `zshrc`ï¼š

```bash
# bashrc
echo -e '\n# Kimi API é…ç½® - å›½å†…ç¯å¢ƒ' >> ~/.bashrc
echo -e 'export KIMI_AUTH_TOKEN=sk-...' >> ~/.bashrc
echo -e 'export KIMI_BASE_URL=https://api.moonshot.cn/anthropic' >> ~/.bashrc
echo -e '\n# Kimi API é…ç½® - æµ·å¤–ç¯å¢ƒï¼ˆå–æ¶ˆä¸‹é¢æ³¨é‡Šä½¿ç”¨ï¼‰' >> ~/.bashrc
echo -e '# export KIMI_BASE_URL=https://api.moonshot.ai/anthropic' >> ~/.bashrc

# zshrc
echo -e '\n# Kimi API é…ç½® - å›½å†…ç¯å¢ƒ' >> ~/.zshrc
echo -e 'export KIMI_AUTH_TOKEN=sk-...' >> ~/.zshrc
echo -e 'export KIMI_BASE_URL=https://api.moonshot.cn/anthropic' >> ~/.zshrc
echo -e '\n# Kimi API é…ç½® - æµ·å¤–ç¯å¢ƒï¼ˆå–æ¶ˆä¸‹é¢æ³¨é‡Šä½¿ç”¨ï¼‰' >> ~/.zshrc
echo -e '# export KIMI_BASE_URL=https://api.moonshot.ai/anthropic' >> ~/.zshrc
```

é‡å¯ç»ˆç«¯åï¼Œè¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•å³å¯ä½¿ç”¨ï¼š

```bash
cd your-project-folder
claude
```

---

## ğŸš€ å¿«é€Ÿå®æˆ˜ï¼šç”¨ Claude Code æ„å»ºä¸€ä¸ªæœ€åŸºç¡€çš„ DeepResearch Agentï¼

**æˆ‘è¾“å…¥çš„Promptï¼š**

```text
You are an expert AI coding assistant. I want you to help me implement a basic DeepResearch-style Agent AI system.

### Project Overview:
The goal is to build a minimal yet functional research agent web app.

### Tech Stack:
- Backend: Node.js + TypeScript
- LLM API: Doubao API (by Volcengine)
- Search API: Tavily
- Frontend: React + TailwindCSS + Vite
- Style: Apple-like minimalist design (clean, white space, smooth shadows, rounded corners)

---

### Agent Logic Requirements:
1. The Agent accepts a user query as a research task.
2. It first searches the web using the Tavily API for relevant information.
3. Then, it formulates a structured prompt and sends it to Doubao LLM API to synthesize the answer.
4. It returns the final answer along with intermediate steps and reasoning traces to the frontend.

---

### Backend Tasks:
- Create a `POST /research` API endpoint.
- Accept user input and trigger:
  a) Tavily API to search
  b) Use results to construct a prompt for the Doubao LLM
  c) Call Doubao API and return the final response with reasoning
- Structure logs to clearly show each step, from input â†’ search â†’ prompt construction â†’ final output
- Write clear TypeScript types and inline documentation

---

### Frontend Tasks:
- A simple single-page app with:
  - Input field for user query
  - Display area showing:
    - Step-by-step reasoning
    - Tavily search results
    - Final answer generated by Doubao
- Use TailwindCSS for styling, minimal Apple-like aesthetic
- Optional: Add smooth transitions when steps are loading (Framer Motion optional)

---

### Additional Requirements:
- Code should be modular and maintainable
- Add thoughtful comments explaining key parts
- Include a simple config file for API keys (Tavily and Doubao)
- Ensure the reasoning process is visible to the user in a clean timeline or card-style layout

---

Please start by:
1. Creating the backend structure and API logic in TypeScript
2. Then create the frontend interface with React
3. Provide code for both with full inline comments and logs

```
æ•´ä¸ªå®Œæˆçš„è¿‡ç¨‹èŠ±äº†åŠä¸ªå¤šå°æ—¶ï¼Œç„¶åå®Œæˆä¹‹åæˆ‘è®©å®ƒå¯åŠ¨æ˜¯æ²¡æœ‰è·‘èµ·æ¥çš„ï¼Œæˆ‘å°è¯•äº†ä¸€ä¸‹debugä¹‹åå¯ä»¥å¯åŠ¨ï¼Œæ•´ä¸ªèŠ±è´¹çš„æ—¶é—´åœ¨ä¸€ä¸ªå°æ—¶å·¦å³ã€‚ï¼ˆä¸»è¦æƒ³çœ‹çœ‹èƒ½ä¸èƒ½ä¸€æ¬¡å¯åŠ¨ï¼Œæˆ‘è§‰å¾—è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒåŸºç¡€çš„Agentï¼ŒåŒæ ·çš„Promptç»™åˆ°Cursor+Gemini2.5-proæ˜¯å¯ä»¥ä¸€æ¬¡å¯åŠ¨çš„ï¼Œä½†æ˜¯ä¸­é—´ä¹Ÿä¼šæœ‰ä¸€äº›åŠŸèƒ½bugï¼Œæ•´ä¸ªèŠ±è´¹æ—¶é—´ä¸åˆ°åŠå°æ—¶ï¼‰


## ç„¶åæˆ‘çœ‹ä»–ä»¬å±•ç¤ºçš„3Då³¡è°·æ™¯è§‚å±•ç¤ºæ¢äº†ä¸€ä¸ªä¾‹å­ï¼Œè®©å®ƒç»™æˆ‘ç”Ÿæˆä¸€ä¸ªâ€œ3D æ˜Ÿç©ºå³¡è°·æ¢é™©åœºæ™¯â€æ¥è¯•ï¼š
```
Prompt:

Create a 3D *Starlit Canyon Explorer* scene using HTML and Three.js.

Features:

* Terrain & Canyon: Build a realistic canyon landscape with cliffs, deep valleys, and layered rock formations.
* Waterfalls & Reflective Rivers: Add animated waterfalls cascading down rock faces and reflective water shaders for rivers.
* Day-Night Cycle: Smooth animated transitions between day and night, with sunrises, sunsets, and a starlit sky at night.
* User Interaction:
  * Support mouse drag, zoom, and orbit controls;
  * (Optional) First-person exploration mode;
* Visual Enhancements:
  * Real-time shadows from terrain and sunlight;
  * Subtle star animations at night using noise shaders;
  * Toggleable terrain contour lines;
* Realistic Shading:
  * Use gradient-based shading for rocks, sands, and night skies;
  * Add volumetric fog to enhance depth perception;
* Map Navigation & Info Tags:
  * Clickable terrain hotspots to display location info;
  * Floating labels like â€œCanyon Entranceâ€ or â€œPlateau Campâ€;

Tech Stack:

* Core: HTML + Three.js + CSS
* Controls: OrbitControls or PointerLockControls
* Animations: GSAP for lighting and transition effects
* Fog/Volumetric Light: ShaderMaterial with postprocessing
* Terrain Generation: Perlin Noise or heightmaps
* Developer Tools: dat.GUI for toggling contour lines, time of day, and effects
```
