# Agent_Kimi_ClaudeCode
🔥Kimi K2+ClaudeCode实战！极速提升开发效率🚀手把手快速搭建一个DeepReSearchAgent！
## 只有干货！无废话纯教程！

* 📄 **Kimi K2 介绍链接**：[点击查看](https://mp.weixin.qq.com/s/2RPmHf_8KqIjXbY5jLdztQ)

##  安装 ClaudeCode 并接入 Kimi K2 API

### 1. 安装 Node.js（已安装可跳过）

确保 Node.js 版本 ≥ 18.0

#### Ubuntu / Debian 用户：

```bash
curl -fsSL https://deb.nodesource.com/setup_lts.x | sudo bash -
sudo apt-get install -y nodejs
node --version
```

#### macOS 用户：

```bash
sudo xcode-select --install
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
brew install node
node --version
```

---

### 2. 安装 Claude Code

```bash
npm install -g @anthropic-ai/claude-code
claude --version
```

---

### 3. 接入 Kimi K2 API

1. 首先去 Moonshot AI 平台获取一个 API Key：
   👉 [https://platform.moonshot.cn/console/api-keys](https://platform.moonshot.cn/console/api-keys)

2. 打开 Claude Code 前，在命令行中设置环境变量：

#### 国内环境：

```bash
export ANTHROPIC_AUTH_TOKEN=你的key（sk-xxx）
export ANTHROPIC_BASE_URL=https://api.moonshot.cn/anthropic
```

#### 海外环境：

```bash
export ANTHROPIC_BASE_URL=https://api.moonshot.ai/anthropic
```

3. 启动 Claude Code：

```bash
claude
```

4. 启动后按提示操作：

* 选择你喜欢的主题 + Enter
* 确认安全须知 + Enter
* 使用默认 Terminal 配置 + Enter
* 信任工作目录 + Enter

✅ 现在就可以在终端和你的 AI 编程搭档一起写代码啦！

---

### 4. 配置环境变量（推荐方式）

为避免每次重复输入，可将环境变量写入 `bash_profile`、`bashrc` 和 `zshrc`：

#### 设置 Kimi API 的环境变量（国内）：

```bash
echo -e '\n# Kimi API 配置 - 国内环境' >> ~/.bash_profile
echo -e 'export KIMI_AUTH_TOKEN=sk-...' >> ~/.bash_profile
echo -e 'export KIMI_BASE_URL=https://api.moonshot.cn/anthropic' >> ~/.bash_profile
```

#### 海外环境（取消注释使用）：

```bash
echo -e '\n# Kimi API 配置 - 海外环境（取消下面注释使用）' >> ~/.bash_profile
echo -e '# export KIMI_BASE_URL=https://api.moonshot.ai/anthropic' >> ~/.bash_profile
```

#### 同样配置到 `bashrc` 和 `zshrc`：

```bash
# bashrc
echo -e '\n# Kimi API 配置 - 国内环境' >> ~/.bashrc
echo -e 'export KIMI_AUTH_TOKEN=sk-...' >> ~/.bashrc
echo -e 'export KIMI_BASE_URL=https://api.moonshot.cn/anthropic' >> ~/.bashrc
echo -e '\n# Kimi API 配置 - 海外环境（取消下面注释使用）' >> ~/.bashrc
echo -e '# export KIMI_BASE_URL=https://api.moonshot.ai/anthropic' >> ~/.bashrc

# zshrc
echo -e '\n# Kimi API 配置 - 国内环境' >> ~/.zshrc
echo -e 'export KIMI_AUTH_TOKEN=sk-...' >> ~/.zshrc
echo -e 'export KIMI_BASE_URL=https://api.moonshot.cn/anthropic' >> ~/.zshrc
echo -e '\n# Kimi API 配置 - 海外环境（取消下面注释使用）' >> ~/.zshrc
echo -e '# export KIMI_BASE_URL=https://api.moonshot.ai/anthropic' >> ~/.zshrc
```

重启终端后，进入你的项目目录即可使用：

```bash
cd your-project-folder
claude
```

---

## 🚀 快速实战：用 Claude Code 构建一个最基础的 DeepResearch Agent！

**我输入的Prompt：**

```text
You are an expert AI coding assistant. I want you to help me implement a basic DeepResearch-style Agent AI system.

### Project Overview:
The goal is to build a minimal yet functional research agent web app.

### Tech Stack:
- Backend: Node.js + TypeScript
- LLM API: Doubao API (by Volcengine)
- Search API: Tavily
- Frontend: React + TailwindCSS + Vite
- Style: Apple-like minimalist design (clean, white space, smooth shadows, rounded corners)

---

### Agent Logic Requirements:
1. The Agent accepts a user query as a research task.
2. It first searches the web using the Tavily API for relevant information.
3. Then, it formulates a structured prompt and sends it to Doubao LLM API to synthesize the answer.
4. It returns the final answer along with intermediate steps and reasoning traces to the frontend.

---

### Backend Tasks:
- Create a `POST /research` API endpoint.
- Accept user input and trigger:
  a) Tavily API to search
  b) Use results to construct a prompt for the Doubao LLM
  c) Call Doubao API and return the final response with reasoning
- Structure logs to clearly show each step, from input → search → prompt construction → final output
- Write clear TypeScript types and inline documentation

---

### Frontend Tasks:
- A simple single-page app with:
  - Input field for user query
  - Display area showing:
    - Step-by-step reasoning
    - Tavily search results
    - Final answer generated by Doubao
- Use TailwindCSS for styling, minimal Apple-like aesthetic
- Optional: Add smooth transitions when steps are loading (Framer Motion optional)

---

### Additional Requirements:
- Code should be modular and maintainable
- Add thoughtful comments explaining key parts
- Include a simple config file for API keys (Tavily and Doubao)
- Ensure the reasoning process is visible to the user in a clean timeline or card-style layout

---

Please start by:
1. Creating the backend structure and API logic in TypeScript
2. Then create the frontend interface with React
3. Provide code for both with full inline comments and logs

```
